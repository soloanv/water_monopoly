<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title>Display a map</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.1/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.1/mapbox-gl.css' rel='stylesheet' />
    <style>
        body { margin:0; padding:0; overflow: hidden;}
        #map { position: absolute; width:100%; height: 92%;}
        div.dice {
            width: 50px;
            background: #f5f5f5;
            border: #999 1px solid;
            padding: 10px;
            font-size: 24px;
            margin: 5px;
        }
        #footer {
            position: absolute;
            bottom: 0;
            width: 100%;
            font-size: 24px;
            text-align: center;
            margin-bottom: 10px;
        }

        .container{
            position:relative;
            text-align:center;
            margin-bottom: 10px;
        }

        #dice1, #dice2 {
            display:inline-block;
        }
        
        .clear {
            clear: both;
        }

        .marker {
  background-image: url('mapbox-icon.png');
  background-size: cover;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  cursor: pointer;

  
}

#pause.pause::after {
    content: 'Play';
}

.mapboxgl-popup {
  max-width: 200px;
  z-index: 999999999;
}

.mapboxgl-popup-content {
  text-align: center;
  font-family: 'Open Sans', sans-serif;
}



    </style>
    <script>
        var doubleCount = 0;
        function rollDice(){
            var dice1 = document.getElementById("dice1");
            var dice2 = document.getElementById("dice2");
            var status = document.getElementById("status");
            var d1 = Math.floor(Math.random() * 6) + 1;
            var d2 = Math.floor(Math.random() * 6) + 1;
            var total = d1 + d2;
            dice1.innerHTML = d1;
            dice2.innerHTML = d2;
            status.innerHTML = "Move " + total + " spaces";
            if(d1 == d2){
                status.innerHTML = "DOUBLES! Roll again!";
            }
        }
    </script>
</head>
<body>
        <nav class="navbar navbar-toggleable-md navbar-light bg-faded">
                <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon"></span>
                </button>
                <a class="navbar-brand" href="#">CWOA</a>
                <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                  <div class="navbar-nav">
                    <a class="nav-item nav-link active" href="#">HOME <span class="sr-only">(current)</span></a>
                    <a class="nav-item nav-link" href="properties-page.html">PROPERITES</a>
                    <a class="nav-item nav-link" href="bank-page.html">BANK</a>
                    <a class="nav-item nav-link" href="stations-page.html">STATIONS</a>
                  </div>
                </div>
              </nav>
    
<div id='map'></div>
<div id="footer">
    <h3 id="status" style="clear:left"></h3>
    <div class="container">
    <div id="dice1" class="dice">0</div>
    <div id="dice2" class="dice">0</div>
    <br class="clear">
    </div>
    <button onclick="rollDice()" type="button" class="btn btn-primary">ROLL DICE</button>
</div>

<script>
var geojson = {
    "type": "FeatureCollection",
    "features": [
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [
                    -104.57658,
                    38.31081
                ]
            },
            "properties": {
                "id": "B22",
                "name": "Heating Plant",
                "popupContent": "",
                "imageUrl": "",
                "linkUrl": "https://www.csupueblo.edu/facilities-management/index.html"
            }
        },
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [
                -104.57551,
                    38.31092
                ]
            },
            "properties": {
                "id": "B23",
                "name": "Physical Plant",
                "popupContent": "This building serves as the nerve center for the Facilities Department offices, including building trades, grounds, and warehouse functions that keep the campus in operation. CSU-Pueblo’s U.S. Post Office Station also is housed here.",
                "imageUrl": "img/PhysicalPlant.png",
                "linkUrl": "https://www.csupueblo.edu/facilities-management/index.html"
            }
        },
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [
                -104.57567,
                    38.30954
                ]
            },
            "properties": {
                "id": "B24",
                "name": "Massari Arena (PE)",
                "popupContent": "Renovated in 2008, this world-class indoor sports arena features a swimming pool, basketball and racquetball courts, an athletic training room, as well as athletic administrative offices and the CSU-Pueblo Athletic Hall of Honor. Come check out the challenging climbing wall to see if you can reach the top!",
                "imageUrl": "img/MassariArena.png",
                "linkUrl": "http://www.gothunderwolves.com/athletics/recruits/facilities/massari"
            }
        },
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [
                -104.57943141460419,
                    38.307799348658975
                ]
            },
            "properties": {
                "id": "B1",
                "name": "Chemistry Building (CHEM)",
                "popupContent": "Reserve your spot in classes like Introduction to Forensic Science or Environmental Chemistry and find yourself in the prominent halls of the Chemistry Building. As a student in this building, you will have the awesome opportunity to use modern instrumentation and innovative technology to explore the wonders of the chemical world!",
                "imageUrl": "img/ChemistryBuilding.png",
                "linkUrl": "https://www.csupueblo.edu/chemistry/"
            }
        },
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [
                -104.5802,
                    38.30814
                ]
            },
            "properties": {
                "id": "B2",
                "name": "General Classroom Building (GCB)",
                "popupContent": "Three floors, 40,000 square feet, 10 large lecture classrooms, fully-connected to online campus IT systems, wireless throughout building, faculty offices, seminar rooms, two-story atrium, coffee/study lounge, LEED Gold design and construction, sustainable native landscaping.",
                "imageUrl": "img/GeneralClassroomBuilding.jpg",
                "linkUrl": ""
            }
        },
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [
                -104.57837,
                    38.30705
                ]
            },
            "properties": {
                "id": "B3",
                "name": "Hasan School of Business (HSB)",
                "popupContent": "The Hasan School of Business always has its doors open to students interested in majors like accounting, computer information systems, economics, finance, management, and marketing. Learn and study in a variety of group meeting rooms and classrooms with internet access, in addition to the outstanding Hasan Auditorium. We take pride in the fact that our business school is highly accredited and is one of fewer than 15% of business schools with such a prestigious accreditation.",
                "imageUrl": "img/HasanSchoolofBusiness.png",
                "linkUrl": "http://hsb.csupueblo.edu/Pages/default.aspx"
            }
        },
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [
                -104.57908,
                    38.30858
                ]
            },
            "properties": {
                "id": "B4",
                "name": "Library and Academic Resource Center (LARC)",
                "popupContent": "Following a $24 million renovation, the University Library reopened in Spring of 2011, with a 22,000-square-foot addition as well as a complete replacementof the mechanical and electrical systems, significant improvements in technology, and a more inviting environment for students. The building was renovated and constructed to the highest possible standards for efficiency and sustainability. The breezeway beneath the library wing was enclosed and now houses a variety of student services from the First-Year Program and Career Center to the President's Leadership Program.",
                "imageUrl": "img/Library.png",
                "linkUrl": "http://library.csupueblo.edu/"
            }
        },
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [
                -104.57964062690735,
                    38.30712162953393
                ]
            },
            "properties": {
                "id": "B5",
                "name": "Life Sciences Building (LS)",
                "popupContent": "Discover the wonder of the life sciences in this gorgeous and newly renovated building. Stocked with science labs, a year-round botany lab, the largest lecture hall on campus, and a real gross anatomy cadaver, this building is a place where you really can get a grip on life.",
                "imageUrl": "img/LifeSciencesBuilding.png",
                "linkUrl": ""
            }
        },
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [
                -104.58014,
                    38.30646
                ]
            },
            "properties": {
                "id": "B6",
                "name": "Mathematics Building (PM)",
                "popupContent": "Investigate the theory of relativity, electromagnetism, differential equations and more in the classrooms of the beautifully renovated Physics and Math Building. Swing by the Math Learning Center for free tutoring or to reserve your spot in the Math Department’s annual talent show. Your experiences here will add up to equal a world-class education!",
                "imageUrl": "img/PhysicsMathBuilding.png",
                "linkUrl": "http://csm.csupueblo.edu/Physics/Pages/Default.aspx"
            }
        },
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [
                -104.57828,
                    38.30759
                ]
            },
            "properties": {
                "id": "B7",
                "name": "Psychology Building (PSY)",
                "popupContent": "Home to the social sciences and humanities, the Psychology Building houses majors like English, sociology, and psychology. The building boasts two psychology labs for hands-on research and a foreign language lab. Student Academic Services is here to help you with disability questions or testing services. The supportive Writing Room is headquartered here to assist you with your writing projects!",
                "imageUrl": "img/PsychologyBuilding.png",
                "linkUrl": "http://chass.csupueblo.edu/psychology/Pages/default.aspx"
            }
        },
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [
                -104.57912,
                    38.30623
                ]
            },
            "properties": {
                "id": "B8",
                "name": "Technology Building (T)",
                "popupContent": "Stroll through the halls of the Technology Building and you will find venerable programs like nursing, teacher education, engineering, civil engineering technology and automotive industry management. All of these programs offer exceptional hands-on experience for their students to prepare themselves for successful careers.",
                "imageUrl": "img/TechnologyBuilding.png",
                "linkUrl": ""
            }
        },
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [
                -104.579878,
                    38.30985
                ]
            },
            "properties": {
                "id": "B9",
                "name": "Art/Music Building (AM)",
                "popupContent": "Unearth your artistic and musical talents in the classrooms of the Art and Music Building.  Stop by the Department of Music and pick up a copy of the seasons calendar featuring concerts and performances by CSU-Pueblo Faculty and Students.  The breathtaking Hoag Recital Hall is also home to hundreds of events and festivals each year.  One can also stop by the Department of Art for an update on the shows taking place in the beautiful Fine Arts Gallery where world renowned artists are showcased alongside our own array of fabulously talented students.",
                "imageUrl": "img/ArtMusicBuilding.png",
                "linkUrl": "https://www.csupueblo.edu/college-of-humanities-and-social-sciences/"
            }
        },
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [
                -104.57803,
                    38.30957
                ]
            },
            "properties": {
                "id": "B10",
                "name": "Occhiato University Center (OUC)",
                "popupContent": "The OUC is bursting at the seams with a tremendous array of student services, including the CSU-Pueblo Bookstore, the Career Center, the offices of the student government and other clubs, two dining facilities, and a stunning ballroom for special events. In the OUC, something is exciting is always happening and YOU can be right in the middle of it!",
                "imageUrl": "img/OcchiatoUniversity.png",
                "linkUrl": "https://www.csupueblo.edu/auxiliary-services/"
            }
        },
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [
                -104.57563,
                    38.30867
                ]
            },
            "properties": {
                "id": "B11",
                "name": "Student Recreation Center (SRC)",
                "popupContent": "After opening its door in Fall 2008, the new 43,000-square-foot Student Recreation Center gives students access to basketball courts, a state-of-the-art weight room, indoor running track, intramural competitions, classes like yoga, kickboxing, and step aerobics, and Outdoor Pursuits programming and equipment rental. Membership is totally free to CSU-Pueblo students!",
                "imageUrl": "img/StudentRecCenter.png",
                "linkUrl": "https://www.csupueblo.edu/student-recreation/index.html"
            }
        },
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [
                -104.57692,
                    38.30862
                ]
            },
            "properties": {
                "id": "B12",
                "name": "Administration Building (ADM)",
                "popupContent": "This is your one-stop shop to take care of any official campus business you may have! Want to check your application status or change your major? Swing by the Office of Admissions and Records. Need to check your financial aid award status? Student Financial Services is happy to help. Locked your keys in your car? The Pueblo County Sheriff’s Office will come to the rescue. These are only a few of the many services housed in the Administration Building!",
                "imageUrl": "img/AdministrationBuilding.png",
                "linkUrl": "https://www.csupueblo.edu/admissions/index.html"
            }
        },
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [
                -104.57931,
                    38.30536
                ]
            },
            "properties": {
                "id": "B13",
                "name": "Buell Communication Center/KTSC-TV (BCC)",
                "popupContent": "A real, working public television station is yet another unique and exciting aspect of the CSU-Pueblo campus. In fact, we are the only campus in Colorado to have an actual PBS station on our campus. Here, mass communications students can get excellent hands-on experience in writing, directing, editing, and producing television programs!",
                "imageUrl": "img/VisitorCenterBuellCommCenter.png",
                "linkUrl": "https://www.csupueblo.edu/mass-communications/labs/ktsc-tv.html"
            }
        },
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [
                -104.57946,
                    38.30511
                ]
            },
            "properties": {
                "id": "B14",
                "name": "Visitor Center",
                "popupContent": "The Visitor Center greets prospective students, parents, and first-time campus visitors with event and registration information, maps, and campus tours.",
                "imageUrl": "img/VisitorCenterBuellCommCenter.png",
                "linkUrl": "https://www.csupueblo.edu/Visitors/"
            }
        },
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [
                -104.57814,
                    38.31163
                ]
            },
            "properties": {
                "id": "B20",
                "name": "University Child Care Center",
                "popupContent": "Your children will flourish at the distinguished CSU-Pueblo Child Care Center. Nationally accredited by the National Association for the Education of Young Children, the Child Care Center offers reduced fees to students of CSU-Pueblo with children aged 24 months to five years. Your children will love their experience on the campus of Southern Colorado’s flagship institution.",
                "imageUrl": "img/UniversityChildCareCenter.png",
                "linkUrl": "https://www.csupueblo.edu/auxiliary-services/childcare.html"
            }
        }
        ,
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [
                -104.57026,
                    38.30744
                ]
            },
            "properties": {
                "id": "B42",
                "name": "Thunder Village",
                "popupContent": "A 10,000-square-foot, $2.4 million commercial complex located just south of the Neta and Eddie DeRose ThunderBowl. Thunder Village is a commercial development financed and managed by the CSU-Pueblo Foundation that will house three businesses and provide commercial services near the Belmont campus. No donor funds were used in transactions regarding the Thunder Village project. As the property manager, CSU-Pueblo will benefit from the rent collected from the occupants of Thunder Village.",
                "imageUrl": "img/thunder-village.jpg",
                "linkUrl": "https://www.csupueblo.edu/news/2017/02-03-thunder-village-groundbreaking.html"
            }
        }        ,
        
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [
                -104.57049,
                    38.30902
                ]
            },
            "properties": {
                "id": "B38",
                "name": "Fieldhouse (FLDH)",
                "popupContent": "The Field House houses locker rooms for ThunderWolf football and track and field teams, a weight room, football and track coaches offices, equipment room, training room, meeting rooms, and a multipurpose room for events.",
                "imageUrl": "img/FieldHouse.png",
                "linkUrl": "http://www.gothunderwolves.com/athletics/recruits/facilities/thunderbowl"
            }
        }
        ,
        //needs pic and content
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [
                -104.56969,
                    38.31022
                ]
            },
            "properties": {
                "id": "B39",
                "name": "Suites",
                "popupContent": "The Neta and Eddie DeRose ThunderBowl offers groups and companies the opportunity to cheer on the ThunderWolves in style.  The suite is the perfect place to pamper guests in privacy, comfort and style.  Suites are great for a celebration, to entertain business clients or to treat the family to that special get-together, all while enjoying the excitement of ThunderWolves football!  Costs of the suites range are as little as $1,250 per game, or as little as $5,800 per season, and comes with a $300 catering allownace, a $500 tax deduction, admission tickets, as well as included private bathrooms, wet bat, refrigerator and 42-inch flat-screen televisions with Comcast cable.",
                "imageUrl": "img/Suites.png",
                "linkUrl": "http://www.gothunderwolves.com/athletics/recruits/facilities/thunderbowl"
            }
        }
        ,
        //needs pic and content
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [
                -104.57127,
                    38.31024
                ]
            },
            "properties": {
                "id": "B40",
                "name": "Press Box/Presidential Suite",
                "popupContent": "The Neta and Eddie DeRose ThunderBowl offers groups and companies the opportunity to cheer on the ThunderWolves in style.  The suite is the perfect place to pamper guests in privacy, comfort and style.  Suites are great for a celebration, to entertain business clients or to treat the family to that special get-together, all while enjoying the excitement of ThunderWolves football!  Costs of the suites range are as little as $1,250 per game, or as little as $5,800 per season, and comes with a $300 catering allownace, a $500 tax deduction, admission tickets, as well as included private bathrooms, wet bat, refrigerator and 42-inch flat-screen televisions with Comcast cable.",
                "imageUrl": "img/PressBoxPresSuites.png",
                "linkUrl": "http://www.gothunderwolves.com/athletics/recruits/facilities/thunderbowl"
            }
        }
        ,
        //needs pic and content
        {
            "type": "Feature",
            "geometry": {
                "type": "Point",
                "coordinates": [
                -104.57098,
                    38.30935
                ]
            },
            "properties": {
                "id": "B41",
                "name": "Leomiti Warrior Center (LWC)",
                "popupContent": "CSU-Pueblo's strength-training facilities are considered amoung the finest in all of Division II. The jewel of the University's strength facilities is the 10,000-square-foot weight training facility at the Neta and Eddie DeRose ThunderBowl, the Leomiti Warrior Center, while the newly ernovated (2015) Massari Arena Weight Room provides additional workout space to serve all of CSU-Pueblo 22 athletic programs.",
                "imageUrl": "img/LeomitiWarriorCenter.png",
                "linkUrl": "http://www.gothunderwolves.com/sports/strength/photos/index"
            }
        }
    ]
}

mapboxgl.accessToken = 'pk.eyJ1Ijoic29sb2FudiIsImEiOiJjamU3YWR5N2QwYWk5MzNsZmZreDZqN2JvIn0.N7Pi_fbc7Z1JNTTVdybE0g';
var map = new mapboxgl.Map({
    container: 'map', // container id
    style: 'mapbox://styles/mapbox/streets-v9',
    hash: false, // stylesheet location
    zoom: 17, // starting zoom
    center: [-104.579023, 38.306951], // starting position [lng, lat]
    bearing: 0,
    pitch: 60,
});

// add markers to map
geojson.features.forEach(function(marker) {

  // create a HTML element for each feature
  var el = document.createElement('div');
  el.className = 'marker';

  // make a marker for each feature and add to the map
  new mapboxgl.Marker(el)
  .setLngLat(marker.geometry.coordinates)
  .setPopup(new mapboxgl.Popup({ offset: 25 }) // add popups
  .setHTML('<h4>' + marker.properties.name + '</h4>'))
  .addTo(map);
});

// Create a GeoJSON source with an empty lineString.
var geojson2 = {
    "type": "FeatureCollection",
    "features": [{
        "type": "Feature",
        "geometry": {
            "type": "LineString",
            "coordinates": [
                [-104.57828,
                    38.30759],
                [-104.57837,
                    38.30705],
                [-104.57912,
                    38.30623],
                [-104.58014,
                    38.30646],
                [-104.57964062690735,
                    38.30712162953393],
                [-104.57943141460419,
                    38.307799348658975],
                [-104.5802,
                    38.30814],
                [-104.57908,
                    38.30858],
            ]
        }
    }]
};

var speedFactor = 30; // number of frames per longitude degree
var animation; // to store and cancel the animation
var startTime = 0;
var progress = 0; // progress = timestamp - startTime
var resetTime = false; // indicator of whether time reset is needed for the animation

map.on('load', function() {

    // add the line which will be modified in the animation
    map.addLayer({
        'id': 'line-animation',
        'type': 'line',
        'source': {
            'type': 'geojson',
            'data': geojson2
        },
        'layout': {
            'line-cap': 'round',
            'line-join': 'round'
        },
        'paint': {
            'line-color': '#ed6498',
            'line-width': 5,
            'line-opacity': .8
        }
    });

    startTime = performance.now();

    animateLine();

    // reset startTime and progress once the tab loses or gains focus
    // requestAnimationFrame also pauses on hidden tabs by default
    document.addEventListener('visibilitychange', function() {
        resetTime = true;
    });

    // animated in a circle as a sine wave along the map.
    function animateLine(timestamp) {
        if (resetTime) {
            // resume previous progress
            startTime = performance.now() - progress;
            resetTime = false;
        } else {
            progress = timestamp - startTime;
        }
        animation = requestAnimationFrame(animateLine);
    }
});

// Add zoom and rotation controls to the map.
map.addControl(new mapboxgl.NavigationControl());

</script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
</body>
</html>